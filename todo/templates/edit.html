{% load static %}
<!doctype html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8">
  <title>Edit Task</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="{% static 'styles.css' %}">

  <!-- Theme Sync Script -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const toggle = document.getElementById("theme-toggle");
      const saved = localStorage.getItem("theme") || "light";

      document.documentElement.setAttribute("data-theme", saved);
      if (toggle) toggle.innerText = saved === "dark" ? "â˜€" : "ğŸŒ™";

      if (toggle) {
        toggle.addEventListener("click", () => {
          const newTheme =
            document.documentElement.getAttribute("data-theme") === "dark"
              ? "light"
              : "dark";

          document.documentElement.setAttribute("data-theme", newTheme);
          localStorage.setItem("theme", newTheme);
          toggle.innerText = newTheme === "dark" ? "â˜€" : "ğŸŒ™";
        });
      }
    });
  </script>
</head>

<body>

  <!-- NAVBAR (same as index) -->
  <header class="navbar">
    <div class="container nav-content">
      <h1 class="logo">âœï¸ Edit Task</h1>
      <button id="theme-toggle" class="btn small ghost">ğŸŒ™</button>
    </div>
  </header>

  <main class="container fade-in">

    <section class="card modern-card">
      <h2>Edit Task</h2>

      <form method="POST" class="form">
        {% csrf_token %}

        {{ form.title }}
        {{ form.description }}
        {{ form.category }}
        {{ form.due_date }}

        <button class="btn full">Save</button>
        <a href="{% url 'home' %}" class="btn ghost full">Cancel</a>
      </form>
    </section>

  </main>

</body>
</html>
