{% load static %}
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Edit Task</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="{% static 'styles.css' %}">
</head>

<body>
  <!-- Topbar -->
  <header class="topbar">
    <div class="container topbar-content">
      <h1 class="logo">âœï¸ Edit Task</h1>
      <button id="theme-toggle" class="btn small ghost">ğŸŒ™</button>
    </div>
  </header>

  <main class="container main fade-in">

    <section class="card modern-card">
      <h2>Edit Task</h2>

      <form method="POST" class="form">
        {% csrf_token %}

        {{ form.title }}
        {{ form.description }}
        {{ form.category }}
        {{ form.due_date }}

        <button class="btn full">Save</button>
        <a href="{% url 'home' %}" class="btn ghost full">Cancel</a>
      </form>
    </section>

  </main>

  <!-- Theme Script: EXACT SAME AS index.html -->
  <script>
    const toggle = document.getElementById("theme-toggle");
    const root = document.documentElement;

    function setTheme(mode) {
      if (mode === "dark") root.classList.add("dark");
      else root.classList.remove("dark");

      toggle.textContent = mode === "dark" ? "â˜€" : "ğŸŒ™";
      localStorage.setItem("theme", mode);
    }

    toggle.addEventListener("click", () => {
      const current = localStorage.getItem("theme") || 
        (root.classList.contains("dark") ? "dark" : "light");
      setTheme(current === "dark" ? "light" : "dark");
    });

    // Load saved theme
    setTheme(localStorage.getItem("theme") || "light");
  </script>

</body>
</html>
